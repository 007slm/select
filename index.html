<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
<title>Select</title>
<link rel="stylesheet" href="http://aralejs.org/assets/base.css">
<link rel="stylesheet" href="http://aralejs.org/assets/style.css">
<link rel="stylesheet" href="http://aralejs.org/assets/pygments.css">
<script src="http://seajs.org/dist/sea.js"></script>
<script src="http://aralejs.org/tools/seajs-helper.js"></script>


<!--[if lt IE 9]>
<script src="http://aralejs.org/assets/html5shiv.js"></script>
<![endif]-->
</head>
<body>
<header id="header">
    <div class="container fn-clear">

    <a href="./"  class="current">Select</a>
    <a href="./examples/" >演示</a>
    
    
    <a id="nav-test" href="./tests/runner.html">用例</a>
    


        <nav role="navigation" id="nav">
            <a title="Home" class="icon-home" href="/" id="logo">首页</a>
            <a id="code-link" class="icon-github" href="https://github.com/aralejs/select">源码</a>
        </nav>
    </div>
</header>

<div id="main">
    <div class="container">
<div class="document-body">
  

  <div class="markdown-body">
    <h1>Select</h1>
<p>模拟 select 的组件</p>

<hr/>

<h2>模块依赖</h2>

<ul>
<li>jquery</li>
<li>popup</li>
</ul>

<h2>使用方法</h2>

<h3>trigger 为 select</h3>
<p>html 片段</p>

<pre><code>&lt;select id=&quot;city&quot; name=&quot;city&quot;&gt;
    &lt;option value=&quot;value1&quot;&gt;text1&lt;/option&gt;
    &lt;option value=&quot;value2&quot;&gt;text2&lt;/option&gt;
&lt;/select&gt;</code></pre>
<p>javascript 片段</p>

<pre><code>new Select({
    trigger: '#city'
}).render()</code></pre>

<h3>trigger 为其他 DOM</h3>
<p>html 片段</p>

<pre><code>&lt;a href=&quot;#&quot; id=&quot;city&quot;&gt;&lt;/a&gt;</code></pre>
<p>javascript 片段</p>

<pre><code>new Select({
    trigger: '#city',
    name: 'city',
    model: [
        {value:'value1', text: 'text1'},
        {value:'value2', text: 'text2'}
    ]
}).render();</code></pre>

<h2>属性</h2>

<h3>trigger</h3>
<p>trigger 可以为 select 或 其他任何 DOM。</p>
<p><strong>注意：</strong>trigger只能为一个 DOM，如果选出来多个会取第一个</p>

<ul>
<li>如果为 select，会将其隐藏并生成一个 a 标签放在原来的位置。</li>
<li>如果为 DOM，实例化的时候则需要提供 model 作为数据源</li>
</ul>

<h3>model</h3>
<p>model 的来源有两处</p>

<ol>
<li>初始化传入</li>
<li>如果 trigger 为 select，则会根据结构生成 model</li>
</ol>
<p>model 的格式为</p>
<div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;text1&#39;</span><span class="p">,</span> <span class="nx">selected</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="s1">&#39;value2&#39;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;text2&#39;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
<p><code>value</code> <code>text</code> <code>selected</code> 均为 option 的属性</p>

<h3>template</h3>
<p>生成组件的模版，数据源为 model。</p>

<h3>classPrefix   <em>(0.9.0 修改，之前为 prefix)</em></h3>
<p>样式前缀，默认为 <code>ui-select</code></p>

<h3>name</h3>
<p>模拟 select 的属性，表单项需要的 name 值，等同于 <code>select.name</code></p>
<p><strong>注意</strong>：如果 trigger 不是 select，那么会先在页面找 name 的 input，找不到再创建一个。</p>

<h3>value</h3>
<p>模拟 select 的属性，获取被选中 option 的 value 值，等同于 <code>select.value</code></p>

<h3>length</h3>
<p>模拟 select 的属性，获取 option 的个数，等同于 <code>select.length</code></p>

<h3>selectedIndex</h3>
<p>模拟 select 的属性，获取被选中 option 的索引值，等同于 <code>select.selectedIndex</code></p>

<h3>multiple</h3>
<p>// TODO</p>

<h3>disabled</h3>
<p>模拟 select 的属性，设置 select 是否可点，等同于 <code>select.disabled</code></p>

<h2>方法</h2>

<h3>.select(option)</h3>
<p>选中某项，<code>option</code> 支持三种</p>

<ol>
<li>列表索引，为 Number</li>
<li>选择器，为 String</li>
<li>DOM，支持 DOM Element 和 jQuery 对象</li>
</ol>

<h3>.syncModel(model)</h3>
<p>重新跟进给定的 demo 渲染 select</p>
<p>model 为数据源，和上面提到的 model 格式保持一致</p>

<h3>.addOption(option)</h3>
<p>将一个选项添加到最后，option 的格式为</p>

<pre><code>{value: 'value1', text: 'text1'}</code></pre>

<h3>.getOption(option)</h3>
<p>获取某个选项，参数和 <code>.select</code> 方法一致</p>

<h3>.removeOption(option)</h3>
<p>删除某个选项，参数和 <code>.select</code> 方法一致</p>

<h2>事件</h2>

<h3>change</h3>
<p>当选择某项的时候会触发，组件初始化不会触发此事件</p>
<p>回调传回的参数为当前选中的项，为 jQuery 对象</p>

<pre><code>new Select({
    trigger: ''
}).on('change', function(target) {
    console.log(target.html());
})</code></pre>

<h2>问题讨论</h2>

<ul>
<li><code>ui-select-item</code> 避免设置 height <a href="https://github.com/aralejs/select/issues/13">#13</a></li>
<li>trigger 和 template 的字体保持一致，不然宽度可能有不对齐的情况</li>
</ul>

  </div>
</div>

    </div>
</div>
<hr class="end">
<script src="http://aralejs.org/tools/nico-helper.js"></script>
</body>
</html>