define("#select/0.8.0/select",["$","#popup/0.9.6/dropdown","#popup/0.9.6/popup","#overlay/0.9.8/overlay","#iframe-shim/0.9.3/iframe-shim","#position/0.9.2/position","#widget/0.9.16/widget","#base/0.9.16/base","#events/0.9.1/events","#class/0.9.2/class","#widget/0.9.16/templatable","#handlebars/1.0.0/handlebars"],function(e,t,n){function u(e,t){var n,r=[],i=e.options,s=i.length,o=!1;for(n=0;n<s;n++){var u,a={},f=i[n],l=["text","value","defaultSelected","selected"];for(u in l){var c=l[u];a[c]=f[c]}a.defaultSelected=f.defaultSelected?"true":"false",f.selected?(a.selected="true",o=!0):a.selected="false",r.push(a)}return o||(newModel[0].selected="true"),{select:r,prefix:t}}function a(e,t){var n,r,i=[],s=[];for(n=0,l=e.length;n<l;n++){var o=e[n];o.defaultSelected=o.defaultSelected?"true":"false",o.selected?(o.selected=o.defaultSelected="true",s.push(n)):o.selected=o.defaultSelected="false",i.push(o)}if(s.length>0){s.pop();for(r=0,ll=s.length;r<ll;r++)i[0].selected="false"}else i[0].selected="true";return{select:i,prefix:t}}function f(e,t){var n;return i.isNumeric(e)?n=e:typeof e=="string"?n=t.index(t.parent().find(e)):n=t.index(e),n}var r=e("#popup/0.9.6/dropdown"),i=e("$"),s=e("#widget/0.9.16/templatable"),o=r.extend({Implements:s,attrs:{prefix:"ui-select",template:'<div class="{{prefix}}"><ul class="{{prefix}}-content" data-role="content">{{#each select}}<li data-role="item" class="{{../prefix}}-item" data-value="{{value}}" data-defaultSelected="{{defaultSelected}}" data-selected="{{selected}}">{{text}}</li>{{/each}}</ul></div>',value:"",length:0,selectedIndex:-1,multiple:!1,disabled:!1,selectSource:null},events:{"click [data-role=item]":function(e){var t=i(e.currentTarget);this.select(t)},"mouseenter [data-role=item]":function(e){i(e.currentTarget).addClass(this.get("prefix")+"-hover")},"mouseleave [data-role=item]":function(e){i(e.currentTarget).removeClass(this.get("prefix")+"-hover")}},initAttrs:function(e,t){o.superclass.initAttrs.call(this,e,t);var n=this.get("trigger");if(n[0].tagName.toLowerCase()=="select"){this.set("selectSource",n);var r='<a href="#" class="'+this.get("prefix")+'-trigger"></a>',s=i(r);this.set("trigger",s),n.after(s).hide(),this.model=u(n[0],this.get("prefix"))}else this.model=a(this.model,this.get("prefix"))},setup:function(){var e=this;this.get("trigger").on("click",function(t){t.preventDefault(),e.get("disabled")||e.show()});var t=this.options=this.$("[data-role=content]").children();this.select("[data-selected=true]"),this.set("length",t.length),this._tweakAlignDefaultValue(),this._setupShim()},destroy:function(){this.element.remove();var e=this.get("selectSource");e&&(this.get("trigger").remove(),e.show())},select:function(e){var t=f(e,this.options);return this.set("selectedIndex",t),this.hide(),this},syncModel:function(e){this.model=a(e,this.get("prefix")),this.renderPartial("[data-role=content]"),this.set("selectedIndex",-1),this.set("value","");var t=this.options=this.$("[data-role=content]").children();return this.set("length",t.length),this.select("[data-selected=true]"),this},getOption:function(){},addOption:function(e){return this},removeOption:function(e){return this},_onRenderSelectedIndex:function(e){if(e==-1)return;var t=this.options.eq(e);this.currentItem&&this.currentItem.attr("data-selected","false").removeClass(this.get("prefix")+"-selected"),t.attr("data-selected","true").addClass(this.get("prefix")+"-selected"),this.set("value",t.attr("data-value")),this.get("trigger").html(t.html()),this.currentItem=t,this.trigger("change",t)},_onRenderDisabled:function(e){var t=this.get("prefix")+"-disabled",n=this.get("trigger");n[e?"addClass":"removeClass"](t)}});n.exports=o});